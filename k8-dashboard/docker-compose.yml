version: '3'

services:
  kubernetes-dashboard:
    image: kubernetesui/dashboard:v2.7.0
    container_name: kubernetes-dashboard
    ports:
      - "8001:80"  # Expose the dashboard to port 8001
    environment:
      - K8S_DASHBOARD_PORT=80
      - K8S_DASHBOARD_NAMESPACE=kube-system  # Optional, default is kube-system
      - K8S_DASHBOARD_HOST=http://localhost:8001  # Optional, adjust if you want a specific host
      - K8S_DASHBOARD_PROXY=true  # Optional, enables proxy mode for cluster access
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock  # Mount Docker socket to access Docker services
    restart: always
